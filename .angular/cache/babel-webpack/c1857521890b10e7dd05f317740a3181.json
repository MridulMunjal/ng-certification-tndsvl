{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\MM\\\\Downloads\\\\ng-certification-tndsvl\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";\nimport _createClass from \"C:\\\\Users\\\\MM\\\\Downloads\\\\ng-certification-tndsvl\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../services/weather.service\";\nimport * as i3 from \"@angular/common\";\n\nfunction ZipListComponent_li_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 7);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵpipe(3, \"titlecase\");\n    i0.ɵɵelement(4, \"img\", 8);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var forecast_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate4(\" \", i0.ɵɵpipeBind1(2, 5, forecast_r1 == null ? null : forecast_r1.dt_txt), \" : \", i0.ɵɵpipeBind1(3, 7, forecast_r1 == null ? null : forecast_r1.weather[0] == null ? null : forecast_r1.weather[0].description), \" - Min: \", forecast_r1 == null ? null : forecast_r1.main.temp_min, \" - Max: \", forecast_r1 == null ? null : forecast_r1.main.temp_max, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"https://www.angulartraining.com/images/weather/\", forecast_r1 == null ? null : forecast_r1.img, \".png\", i0.ɵɵsanitizeUrl);\n  }\n}\n\nexport var ZipListComponent = /*#__PURE__*/(function () {\n  var ZipListComponent = /*#__PURE__*/function () {\n    function ZipListComponent(router, activeRoute, weather) {\n      _classCallCheck(this, ZipListComponent);\n\n      this.router = router;\n      this.activeRoute = activeRoute;\n      this.weather = weather;\n    }\n\n    _createClass(ZipListComponent, [{\n      key: \"ngOnInit\",\n      value: function ngOnInit() {\n        var _this = this;\n\n        this.zipCode = this.activeRoute.snapshot.params['zipCode'];\n        console.log(this.zipCode);\n\n        if (this.zipCode.length) {\n          var res$ = this.weather.loadWeatherForecast(parseInt(this.zipCode));\n          res$.subscribe(function (data) {\n            var _a, _b; //     if (data?.weather[0]?.toLowerCase?.includes('cloud')) {\n            //       data.img = 'clouds'\n            //     }\n            //     else\n            //      if (data?.weather[0]?.toLowerCase?.includes('rain')) {\n            //       data.img = 'rain'\n            //     }\n            //     else if (data?.weather[0]?.toLowerCase?.includes('snow')) {\n            //       data.img = 'snow'\n            //     }\n            //     else {\n            // data.img = 'sun'\n            //     }\n\n\n            (_a = data === null || data === void 0 ? void 0 : data.list) === null || _a === void 0 ? void 0 : _a.forEach(function (element) {\n              var _a, _b, _c, _d, _e, _f;\n\n              if ((_b = (_a = element === null || element === void 0 ? void 0 : element.weather[0]) === null || _a === void 0 ? void 0 : _a.toLowerCase) === null || _b === void 0 ? void 0 : _b.includes('cloud')) {\n                element.img = 'clouds';\n              } else if ((_d = (_c = data === null || data === void 0 ? void 0 : data.weather[0]) === null || _c === void 0 ? void 0 : _c.toLowerCase) === null || _d === void 0 ? void 0 : _d.includes('rain')) {\n                element.img = 'rain';\n              } else if ((_f = (_e = data === null || data === void 0 ? void 0 : data.weather[0]) === null || _e === void 0 ? void 0 : _e.toLowerCase) === null || _f === void 0 ? void 0 : _f.includes('snow')) {\n                element.img = 'snow';\n              } else {\n                element.img = 'sun';\n              }\n            });\n            _this.allForecast = data;\n            data.zipCode = _this.zipCode;\n            _this.forecastData = (_b = data === null || data === void 0 ? void 0 : data.list) === null || _b === void 0 ? void 0 : _b.filter(function (f) {\n              return f.dt_txt.includes(\"00:00:00\");\n            });\n            console.log(_this.forecastData);\n          });\n        }\n      }\n    }, {\n      key: \"goBack\",\n      value: function goBack() {\n        this.router.navigate(['/form']);\n      }\n    }]);\n\n    return ZipListComponent;\n  }();\n\n  ZipListComponent.ɵfac = function ZipListComponent_Factory(t) {\n    return new (t || ZipListComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.WeatherService));\n  };\n\n  ZipListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ZipListComponent,\n    selectors: [[\"app-zip-list\"]],\n    decls: 11,\n    vars: 2,\n    consts: [[1, \"container-fluid\"], [1, \"panel\", \"panel-default\"], [1, \"panel-heading\"], [1, \"panel-title\"], [1, \"list-group\"], [\"class\", \"list-group-item\", 4, \"ngFor\", \"ngForOf\"], [\"tabindex\", \"0\", \"id\", \"mainPageBtn\", 1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"list-group-item\"], [1, \"icon\", 3, \"src\"]],\n    template: function ZipListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h4\");\n        i0.ɵɵtext(1, \"Template for 5-day forecast page:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"div\", 0);\n        i0.ɵɵelementStart(3, \"div\", 1);\n        i0.ɵɵelementStart(4, \"div\", 2);\n        i0.ɵɵelementStart(5, \"h3\", 3);\n        i0.ɵɵtext(6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"ul\", 4);\n        i0.ɵɵtemplate(8, ZipListComponent_li_8_Template, 5, 9, \"li\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"button\", 6);\n        i0.ɵɵlistener(\"click\", function ZipListComponent_Template_button_click_9_listener() {\n          return ctx.goBack();\n        });\n        i0.ɵɵtext(10, \"< Back to main page\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate1(\"5-day forecast for \", ctx.allForecast == null ? null : ctx.allForecast.city == null ? null : ctx.allForecast.city.name, \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.forecastData);\n      }\n    },\n    directives: [i3.NgForOf],\n    pipes: [i3.DatePipe, i3.TitleCasePipe],\n    styles: [\"\"]\n  });\n  return ZipListComponent;\n})();","map":{"version":3,"sources":["C:/Users/MM/Downloads/ng-certification-tndsvl/src/app/zip-list/zip-list.component.ts"],"names":["i0","i1","i2","i3","ZipListComponent_li_8_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵpipe","ɵɵelement","ɵɵelementEnd","forecast_r1","$implicit","ɵɵadvance","ɵɵtextInterpolate4","ɵɵpipeBind1","dt_txt","weather","description","main","temp_min","temp_max","ɵɵpropertyInterpolate1","img","ɵɵsanitizeUrl","ZipListComponent","router","activeRoute","zipCode","snapshot","params","console","log","length","res$","loadWeatherForecast","parseInt","subscribe","data","_a","_b","list","forEach","element","_c","_d","_e","_f","toLowerCase","includes","allForecast","forecastData","filter","f","navigate","ɵfac","ZipListComponent_Factory","t","ɵɵdirectiveInject","Router","ActivatedRoute","WeatherService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","ZipListComponent_Template","ɵɵtemplate","ɵɵlistener","ZipListComponent_Template_button_click_9_listener","goBack","ɵɵtextInterpolate1","city","name","ɵɵproperty","directives","NgForOf","pipes","DatePipe","TitleCasePipe","styles"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/router\";\r\nimport * as i2 from \"../services/weather.service\";\r\nimport * as i3 from \"@angular/common\";\r\nfunction ZipListComponent_li_8_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"li\", 7);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵpipe(2, \"date\");\r\n    i0.ɵɵpipe(3, \"titlecase\");\r\n    i0.ɵɵelement(4, \"img\", 8);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const forecast_r1 = ctx.$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate4(\" \", i0.ɵɵpipeBind1(2, 5, forecast_r1 == null ? null : forecast_r1.dt_txt), \" : \", i0.ɵɵpipeBind1(3, 7, forecast_r1 == null ? null : forecast_r1.weather[0] == null ? null : forecast_r1.weather[0].description), \" - Min: \", forecast_r1 == null ? null : forecast_r1.main.temp_min, \" - Max: \", forecast_r1 == null ? null : forecast_r1.main.temp_max, \" \");\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵpropertyInterpolate1(\"src\", \"https://www.angulartraining.com/images/weather/\", forecast_r1 == null ? null : forecast_r1.img, \".png\", i0.ɵɵsanitizeUrl);\r\n} }\r\nexport class ZipListComponent {\r\n    constructor(router, activeRoute, weather) {\r\n        this.router = router;\r\n        this.activeRoute = activeRoute;\r\n        this.weather = weather;\r\n    }\r\n    ngOnInit() {\r\n        this.zipCode = this.activeRoute.snapshot.params['zipCode'];\r\n        console.log(this.zipCode);\r\n        if (this.zipCode.length) {\r\n            let res$ = this.weather.loadWeatherForecast(parseInt(this.zipCode));\r\n            res$.subscribe(data => {\r\n                var _a, _b;\r\n                //     if (data?.weather[0]?.toLowerCase?.includes('cloud')) {\r\n                //       data.img = 'clouds'\r\n                //     }\r\n                //     else\r\n                //      if (data?.weather[0]?.toLowerCase?.includes('rain')) {\r\n                //       data.img = 'rain'\r\n                //     }\r\n                //     else if (data?.weather[0]?.toLowerCase?.includes('snow')) {\r\n                //       data.img = 'snow'\r\n                //     }\r\n                //     else {\r\n                // data.img = 'sun'\r\n                //     }\r\n                (_a = data === null || data === void 0 ? void 0 : data.list) === null || _a === void 0 ? void 0 : _a.forEach((element) => {\r\n                    var _a, _b, _c, _d, _e, _f;\r\n                    if ((_b = (_a = element === null || element === void 0 ? void 0 : element.weather[0]) === null || _a === void 0 ? void 0 : _a.toLowerCase) === null || _b === void 0 ? void 0 : _b.includes('cloud')) {\r\n                        element.img = 'clouds';\r\n                    }\r\n                    else if ((_d = (_c = data === null || data === void 0 ? void 0 : data.weather[0]) === null || _c === void 0 ? void 0 : _c.toLowerCase) === null || _d === void 0 ? void 0 : _d.includes('rain')) {\r\n                        element.img = 'rain';\r\n                    }\r\n                    else if ((_f = (_e = data === null || data === void 0 ? void 0 : data.weather[0]) === null || _e === void 0 ? void 0 : _e.toLowerCase) === null || _f === void 0 ? void 0 : _f.includes('snow')) {\r\n                        element.img = 'snow';\r\n                    }\r\n                    else {\r\n                        element.img = 'sun';\r\n                    }\r\n                });\r\n                this.allForecast = data;\r\n                data.zipCode = this.zipCode;\r\n                this.forecastData = (_b = data === null || data === void 0 ? void 0 : data.list) === null || _b === void 0 ? void 0 : _b.filter(f => f.dt_txt.includes(\"00:00:00\"));\r\n                console.log(this.forecastData);\r\n            });\r\n        }\r\n    }\r\n    goBack() {\r\n        this.router.navigate(['/form']);\r\n    }\r\n}\r\nZipListComponent.ɵfac = function ZipListComponent_Factory(t) { return new (t || ZipListComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.WeatherService)); };\r\nZipListComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: ZipListComponent, selectors: [[\"app-zip-list\"]], decls: 11, vars: 2, consts: [[1, \"container-fluid\"], [1, \"panel\", \"panel-default\"], [1, \"panel-heading\"], [1, \"panel-title\"], [1, \"list-group\"], [\"class\", \"list-group-item\", 4, \"ngFor\", \"ngForOf\"], [\"tabindex\", \"0\", \"id\", \"mainPageBtn\", 1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"list-group-item\"], [1, \"icon\", 3, \"src\"]], template: function ZipListComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"h4\");\r\n        i0.ɵɵtext(1, \"Template for 5-day forecast page:\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(2, \"div\", 0);\r\n        i0.ɵɵelementStart(3, \"div\", 1);\r\n        i0.ɵɵelementStart(4, \"div\", 2);\r\n        i0.ɵɵelementStart(5, \"h3\", 3);\r\n        i0.ɵɵtext(6);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(7, \"ul\", 4);\r\n        i0.ɵɵtemplate(8, ZipListComponent_li_8_Template, 5, 9, \"li\", 5);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(9, \"button\", 6);\r\n        i0.ɵɵlistener(\"click\", function ZipListComponent_Template_button_click_9_listener() { return ctx.goBack(); });\r\n        i0.ɵɵtext(10, \"< Back to main page\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(6);\r\n        i0.ɵɵtextInterpolate1(\"5-day forecast for \", ctx.allForecast == null ? null : ctx.allForecast.city == null ? null : ctx.allForecast.city.name, \"\");\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"ngForOf\", ctx.forecastData);\r\n    } }, directives: [i3.NgForOf], pipes: [i3.DatePipe, i3.TitleCasePipe], styles: [\"\"] });\r\n"]},"metadata":{},"sourceType":"module"}